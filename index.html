<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>cutezhangq</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://cutezhangq.github.io/favicon.ico?v=1597069392387">
<link rel="stylesheet" href="https://cutezhangq.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="æ¸©æ•…çŸ¥æ–°">
    
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://cutezhangq.github.io">
        <img src="https://cutezhangq.github.io/images/avatar.png?v=1597069392387" class="site-logo">
        <h1 class="site-title">cutezhangq</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/cutezhangq" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      æ¸©æ•…çŸ¥æ–°
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://cutezhangq.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/thisapplycallbind/">
                  <h2 class="post-title">thisã€applyã€callã€bind</h2>
                </a>
                <div class="post-date">
                  2020-08-09
                </div>
                <div class="post-abstract">
                  <p>ğŸ‘‰é¢è¯•é¢˜ï¼šthisçš„æŒ‡å‘ä¸€èˆ¬æ˜¯ç”±ä»€ä¹ˆå†³å®šçš„ï¼Œä¸€èˆ¬æ€ä¹ˆæ”¹å˜å®ƒçš„æŒ‡å‘ï¼Ÿ<br>
ğŸ™‹ç­”ï¼šthiså°±æ˜¯<code>å±æ€§æˆ–æ–¹æ³•</code><strong>å½“å‰</strong>æ‰€åœ¨çš„<code>å¯¹è±¡</code>ï¼›å¯ä»¥é€šè¿‡å°†å‡½æ•°èµ‹å€¼ç»™å˜é‡çš„æ–¹å¼æ”¹å˜thisçš„æŒ‡å‘ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>.call()ã€.apply()ã€.bind()</code>çš„æ–¹å¼æ”¹å˜thisçš„æŒ‡å‘...ğŸƒâ€â™€</p>

                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/thisapplycallbind/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/thisapplycallbind.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/slot-cha-cao/">
                  <h2 class="post-title">slotæ’æ§½</h2>
                </a>
                <div class="post-date">
                  2020-08-07
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/slot-cha-cao/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/slot-cha-cao.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/xiao-xi-ding-yue-yu-fa-bu/">
                  <h2 class="post-title"> æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ</h2>
                </a>
                <div class="post-date">
                  2020-08-07
                </div>
                <div class="post-abstract">
                  <p>ç»“åˆ Vue æºç è°ˆè°ˆå‘å¸ƒ-è®¢é˜…æ¨¡å¼</p>
<h1 id="å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸»è¦åŒ…å«å“ªäº›å†…å®¹å‘¢">å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸»è¦åŒ…å«å“ªäº›å†…å®¹å‘¢?</h1>
<ul>
<li>å‘å¸ƒå‡½æ•°ï¼Œå‘å¸ƒçš„æ—¶å€™æ‰§è¡Œç›¸åº”çš„å›è°ƒ</li>
<li>è®¢é˜…å‡½æ•°ï¼Œæ·»åŠ è®¢é˜…è€…,ä¼ å…¥å‘å¸ƒæ—¶è¦æ‰§è¡Œçš„å‡½æ•°,å¯èƒ½ä¼šæºé¢å¤–å‚æ•°</li>
<li>ä¸€ä¸ªç¼“å­˜è®¢é˜…è€…ä»¥åŠè®¢é˜…è€…çš„å›è°ƒå‡½æ•°çš„åˆ—è¡¨</li>
<li>å–æ¶ˆè®¢é˜…(éœ€è¦åˆ†æƒ…å†µè®¨è®º)</li>
</ul>
<p>è¿™ä¹ˆçœ‹ä¸‹æ¥,å…¶å®å°±åƒ JavaScript ä¸­çš„äº‹ä»¶æ¨¡å‹,æˆ‘ä»¬åœ¨DOMèŠ‚ç‚¹ä¸Šç»‘å®šäº‹ä»¶å‡½æ•°,è§¦å‘çš„æ—¶å€™æ‰§è¡Œå°±æ˜¯åº”ç”¨äº†å‘å¸ƒ-è®¢é˜…æ¨¡å¼.</p>
<h1 id="æˆ‘ä»¬å…ˆæŒ‰ç…§ä¸Šé¢çš„å†…å®¹è‡ªå·±å®ç°ä¸€ä¸ª-observer-å¯¹è±¡å¦‚ä¸‹">æˆ‘ä»¬å…ˆæŒ‰ç…§ä¸Šé¢çš„å†…å®¹è‡ªå·±å®ç°ä¸€ä¸ª Observer å¯¹è±¡å¦‚ä¸‹:</h1>
<pre><code class="language-js">//ç”¨äºå­˜å‚¨è®¢é˜…çš„äº‹ä»¶åç§°ä»¥åŠå›è°ƒå‡½æ•°åˆ—è¡¨çš„é”®å€¼å¯¹
function Observer() {
    this.cache = {}  
}

//key:è®¢é˜…æ¶ˆæ¯çš„ç±»å‹çš„æ ‡è¯†ï¼ˆåç§°ï¼‰ï¼Œfnæ”¶åˆ°æ¶ˆæ¯ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
Observer.prototype.on = function (key,fn) {
    if(!this.cache[key]){
        this.cache[key]=[]
    }
    this.cache[key].push(fn)
}


//arguments æ˜¯å‘å¸ƒæ¶ˆæ¯æ—¶å€™æºå¸¦çš„å‚æ•°æ•°ç»„
Observer.prototype.emit = function (key) {
    if(this.cache[key]&amp;&amp;this.cache[key].length&gt;0){
        var fns = this.cache[key]
    }
    for(let i=0;i&lt;fns.length;i++){
        Array.prototype.shift.call(arguments)
        fns[i].apply(this,arguments)
    }
}
// remove çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œå¦‚æœä½ ç›´æ¥ä¼ å…¥ä¸€ä¸ªåŒ¿åå‡½æ•°fnï¼Œé‚£ä¹ˆä½ åœ¨removeçš„æ—¶å€™æ˜¯æ— æ³•æ‰¾åˆ°è¿™ä¸ªå‡½æ•°å¹¶ä¸”æŠŠå®ƒç§»é™¤çš„ï¼Œå˜é€šæ–¹å¼æ˜¯ä¼ å…¥ä¸€ä¸ª
//æŒ‡å‘è¯¥å‡½æ•°çš„æŒ‡é’ˆï¼Œè€Œ è®¢é˜…çš„æ—¶å€™å­˜å…¥çš„ä¹Ÿæ˜¯è¿™ä¸ªæŒ‡é’ˆ
Observer.prototype.remove = function (key,fn) {
    let fns = this.cache[key]
    if(!fns||fns.length===0){
        return
    }
    //å¦‚æœæ²¡æœ‰ä¼ å…¥fnï¼Œé‚£ä¹ˆå°±æ˜¯å–æ¶ˆæ‰€æœ‰è¯¥äº‹ä»¶çš„è®¢é˜…
    if(!fn){
        fns=[]
    }else {
        fns.forEach((item,index)=&gt;{
            if(item===fn){
                fns.splice(index,1)
            }
        })
    }
}


//example


var obj = new Observer()
obj.on('hello',function (a,b) {
    console.log(a,b)
})
obj.emit('hello',1,2)
//å–æ¶ˆè®¢é˜…äº‹ä»¶çš„å›è°ƒå¿…é¡»æ˜¯å…·åå‡½æ•°
obj.on('test',fn1 =function () {
    console.log('fn1')
})
obj.on('test',fn2 = function () {
    console.log('fn2')
})
obj.remove('test',fn1)
obj.emit('test')
</code></pre>
<p>ä¸ºä»€ä¹ˆä¼šä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼å‘¢? å®ƒçš„ä¼˜ç‚¹åœ¨äº:</p>
<ul>
<li>å®ç°<strong>æ—¶é—´ä¸Šçš„è§£è€¦</strong>(ç»„ä»¶,æ¨¡å—ä¹‹é—´çš„å¼‚æ­¥é€šè®¯)</li>
<li><strong>å¯¹è±¡ä¹‹é—´çš„è§£è€¦</strong>,äº¤ç”±å‘å¸ƒè®¢é˜…çš„å¯¹è±¡ç®¡ç†å¯¹è±¡ä¹‹é—´çš„è€¦åˆå…³ç³».</li>
</ul>
<h1 id="å‘å¸ƒ-è®¢é˜…æ¨¡å¼åœ¨-vueä¸­çš„åº”ç”¨">å‘å¸ƒ-è®¢é˜…æ¨¡å¼åœ¨ Vueä¸­çš„åº”ç”¨</h1>
<p>å‘å¸ƒ-è®¢é˜…æ¨¡å¼åˆå«<code>è§‚å¯Ÿè€…æ¨¡å¼</code>,å®ƒå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§<code>ä¸€å¯¹å¤š</code>çš„ä¾èµ–å…³ç³»,å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶,æ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ã€‚JavaScriptå¼€å‘ä¸­æˆ‘ä»¬ä¸€èˆ¬ç”¨äº‹ä»¶æ¨¡å‹æ¥ä»£æ›¿ä¼ ç»Ÿçš„å‘å¸ƒ-è®¢é˜…æ¨¡å¼</p>
<h1 id="æ¡ˆä¾‹ä»‹ç»1">æ¡ˆä¾‹ä»‹ç»1</h1>
<p>å–çƒ§é¥¼çš„åº—ä¸»å¯ä»¥æŠŠå°æ˜ã€å°é¾™çš„ç”µè¯è®°å½•ä¸‹æ¥,ç­‰åº—é‡Œæœ‰çƒ§é¥¼äº†åœ¨é€šçŸ¥å°é¾™å°æ˜æ¥æ‹¿è¿™å°±æ˜¯æ‰€è°“çš„å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">/*çƒ§é¥¼åº—*/        
var Sesamecakeshop={
    clienlist:[],//ç¼“å­˜åˆ—è¡¨
    addlisten:function(fn){//å¢åŠ è®¢é˜…è€…
        this.clienlist.push(fn);
    },
    trigger:function(){//å‘å¸ƒæ¶ˆæ¯
        for(var i=0,fn;fn=this.clienlist[i++];){
            fn.apply(this,arguments);
        }
    }
}

/*å°æ˜å‘å¸ƒè®¢é˜…*/
Sesamecakeshop.addlisten(function(price,taste){
    console.log(&quot;å°æ˜å‘å¸ƒçš„&quot;+price+&quot;å…ƒï¼Œ&quot;+taste+&quot;å‘³é“çš„&quot;);
});
/*å°é¾™å‘å¸ƒè®¢é˜…*/
Sesamecakeshop.addlisten(function(price,taste){
    console.log(&quot;å°é¾™å‘å¸ƒçš„&quot;+price+&quot;å…ƒï¼Œ&quot;+taste+&quot;å‘³é“çš„&quot;);
});        

Sesamecakeshop.trigger(10,&quot;æ¤’ç›&quot;);
</code></pre>
<p>ä»ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œåªæœ‰å°æ˜ï¼Œå°é¾™é¢„å®šäº†çƒ§é¥¼ï¼Œçƒ§é¥¼åº—å°±å¯ä»¥å‘å¸ƒæ¶ˆæ¯å‘Šè¯‰å°é¾™ä¸å°æ˜ã€‚ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ä¸çŸ¥é“å¤§å®¶å‘ç°äº†æ²¡æœ‰ã€‚å°æ˜åªå–œæ¬¢æ¤’ç›å‘³é“çš„ã€‚è€Œå°é¾™åªå–œæ¬¢ç„¦ç³–å‘³é“çš„ã€‚ä¸Šé¢çš„ä»£ç å°±æ»¡è¶³ä¸äº†å®¢æˆ·çš„éœ€æ±‚ï¼Œç»™å®¢æˆ·ä¸€ç§æ„Ÿè§‰å°±æ˜¯ï¼Œä¸ç®¡æˆ‘å–œæ¬¢ä¸å–œæ¬¢ï¼Œä½ éƒ½ä¼šå‘ç»™æˆ‘ã€‚å¦‚æœå‘å¸ƒæ¯”è¾ƒå¤šï¼Œå®¢æˆ·å°±ä¼šæ„Ÿåˆ°åŒçƒ¦ï¼Œç”šè‡³ä¼šæƒ³åˆ é™¤è®¢é˜…ã€‚ä¸‹è¾¹æ˜¯å¯¹ä»£ç è¿›è¡Œæ”¹è‰¯å¤§å®¶å¯ä»¥çœ‹çœ‹ã€‚</p>
<pre><code class="language-js">/*çƒ§é¥¼åº—*/        
var Sesamecakeshop={
    clienlist:{},/*ç¼“å­˜åˆ—è¡¨*/
    /**
     * å¢åŠ è®¢é˜…è€…
     * @key {String} ç±»å‹
     * @fn {Function} å›æ‰å‡½æ•°
     * */
    addlisten:function(key,fn){
        if(!this.clienlist[key]){
            this.clienlist[key]=[];
        }
        this.clienlist[key].push(fn);
    },
    /**
     * å‘å¸ƒæ¶ˆæ¯
     * */
    trigger:function(){
        var key=[].shift.call(arguments),//å–å‡ºæ¶ˆæ¯ç±»å‹
            fns=this.clienlist[key];//å–å‡ºè¯¥ç±»å‹çš„å¯¹åº”çš„æ¶ˆæ¯é›†åˆ
        if(!fns || fns.length===0){
            return false;
        }
        for(var i=0,fn;fn=fns[i++];){
            fn.apply(this,arguments);
        }
    },
    /**
     * åˆ é™¤è®¢é˜…
     * @key {String} ç±»å‹
     * @fn {Function} å›æ‰å‡½æ•°
     * */
    remove:function(key,fn){
        var fns=this.clienlist[key];//å–å‡ºè¯¥ç±»å‹çš„å¯¹åº”çš„æ¶ˆæ¯é›†åˆ
        if(!fns){//å¦‚æœå¯¹åº”çš„keyæ²¡æœ‰è®¢é˜…ç›´æ¥è¿”å›
            return false;
        }
        if(!fn){//å¦‚æœæ²¡æœ‰ä¼ å…¥å…·ä½“çš„å›æ‰ï¼Œåˆ™è¡¨ç¤ºéœ€è¦å–æ¶ˆæ‰€æœ‰è®¢é˜…
            fns &amp;&amp; (fns.length=0);
        }else{
            for(var l=fns.length-1;l&gt;=0;l--){//éå†å›æ‰å‡½æ•°åˆ—è¡¨
                if(fn===fns[l]){
                    fns.splice(l,1);//åˆ é™¤è®¢é˜…è€…çš„å›æ‰
                }
            }
        }
    }
}

/*å°æ˜å‘å¸ƒè®¢é˜…*/
Sesamecakeshop.addlisten(&quot;ç„¦ç³–&quot;,fn1=function(price,taste){
    console.log(&quot;å°æ˜å‘å¸ƒçš„&quot;+price+&quot;å…ƒï¼Œ&quot;+taste+&quot;å‘³é“çš„&quot;);
});
/*å°é¾™å‘å¸ƒè®¢é˜…*/
Sesamecakeshop.addlisten(&quot;æ¤’ç›&quot;,function(price,taste){
    console.log(&quot;å°é¾™å‘å¸ƒçš„&quot;+price+&quot;å…ƒï¼Œ&quot;+taste+&quot;å‘³é“çš„&quot;);
});        

Sesamecakeshop.trigger(&quot;æ¤’ç›&quot;,10,&quot;æ¤’ç›&quot;);

Sesamecakeshop.remove(&quot;ç„¦ç³–&quot;,fn1);//æ³¨æ„è¿™é‡Œæ˜¯æŒ‰ç…§åœ°å€å¼•ç”¨çš„ã€‚å¦‚æœä¼ å…¥åŒ¿åå‡½æ•°åˆ™åˆ é™¤ä¸äº†        

Sesamecakeshop.trigger(&quot;ç„¦ç³–&quot;,40,&quot;ç„¦ç³–&quot;);

</code></pre>
<p>åˆ é™¤çš„æ—¶å€™éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè®¢é˜…çš„æ—¶å€™ä¼ é€’çš„æ˜¯åŒ¿åå‡½æ•°ï¼Œåˆ é™¤çš„æ—¶å€™å¦‚æœä¼ å…¥çš„ä¹Ÿæ˜¯åŒ¿åå‡½æ•°ã€‚åˆ™åˆ é™¤ä¸äº†ã€‚å› ä¸ºåˆ é™¤æ—¶å€™æ˜¯æŒ‰ç…§åœ°å€å¼•ç”¨åˆ é™¤çš„ã€‚ä¼ è¿›å»çš„ä¸¤ä¸ªåŒ¿åå‡½æ•°ï¼Œå¯¹åº”çš„åœ°å€å¼•ç”¨æ˜¯ä¸åŒçš„ã€‚</p>
<h1 id="æ¡ˆä¾‹ä»‹ç»2">æ¡ˆä¾‹ä»‹ç»2</h1>
<p>æ¯”å¦‚å’±ä»¬å¸¸è§çš„ç”¨æˆ·èº«ä»½åˆ†åˆ«æœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œè¶…çº§ç®¡ç†å‘˜æ‹¥æœ‰æœ€é«˜æƒé™ï¼Œå¯ä»¥åˆ é™¤ä¿®æ”¹ä»»æ„ç”¨æˆ·ã€‚è€Œæ™®é€šç”¨æˆ·åˆ™åªèƒ½ä¿®æ”¹è‡ªå·±çš„è´¦æˆ·ä¿¡æ¯ã€‚é¦–å…ˆæ˜¯ç”¨æˆ·èº«ä»½éªŒè¯ï¼ŒéªŒè¯é€šè¿‡ä¹‹åå¯¹åº”åŠŸèƒ½æ‰å¯ä»¥æ˜¾ç¤ºã€‚</p>
<pre><code class="language-js">//ç™»å½•å‘å¸ƒ-è®¢é˜…æ¨¡å¼
login={
    clienlist:{},/*ç¼“å­˜åˆ—è¡¨*/
    /**
     * å¢åŠ è®¢é˜…è€…
     * @key {String} ç±»å‹
     * @fn {Function} å›æ‰å‡½æ•°
     * */
    addlisten:function(key,fn){
        if(!this.clienlist[key]){
            this.clienlist[key]=[];
        }
        this.clienlist[key].push(fn);
    },
    /**
     * å‘å¸ƒæ¶ˆæ¯
     * */
    trigger:function(){
        var key=[].shift.call(arguments),//å–å‡ºæ¶ˆæ¯ç±»å‹
            fns=this.clienlist[key];//å–å‡ºè¯¥ç±»å‹çš„å¯¹åº”çš„æ¶ˆæ¯é›†åˆ
        if(!fns || fns.length===0){
            return false;
        }
        for(var i=0,fn;fn=fns[i++];){
            fn.apply(this,arguments);
        }
    }
}
//è¶…çº§ç®¡ç†å‘˜ä¿®æ”¹æ‰€æœ‰ç”¨æˆ·
var editall=(function(){
    login.addlisten(&quot;loginsucc&quot;,function(data){
        editall.setview(data);
    });
    return{
        setview:function(data){
            console.log(data);
            console.log(&quot;è¶…çº§ç®¡ç†å‘˜ä¿®æ”¹æ‰€æœ‰ç”¨æˆ·&quot;);
        }
    }
})();

//ä»…ä»…ä¿®æ”¹è‡ªå·±
var editOwn=(function(){
    login.addlisten(&quot;loginsucc&quot;,function(data){
        editOwn.setview(data);
    });
    return{
        setview:function(data){
            console.log(data);
            console.log(&quot;ä»…ä»…ä¿®æ”¹è‡ªå·±&quot;);
        }
    }
})();
</code></pre>
<p>å‘å¸ƒ-è®¢é˜…æ¨¡å¼ç®€å•å°è£…</p>
<pre><code class="language-js">var _Event=(function(){
    var clienlist={},
    addlisten,trigger,remove;
    /**
     * å¢åŠ è®¢é˜…è€…
     * @key {String} ç±»å‹
     * @fn {Function} å›æ‰å‡½æ•°
     * */
    addlisten=function(key,fn){
        if(!clienlist[key]){
            clienlist[key]=[];
        }
        clienlist[key].push(fn);
    };
    /**
     * å‘å¸ƒæ¶ˆæ¯
     * */
    trigger=function(){
        var key=[].shift.call(arguments),//å–å‡ºæ¶ˆæ¯ç±»å‹
            fns=clienlist[key];//å–å‡ºè¯¥ç±»å‹çš„å¯¹åº”çš„æ¶ˆæ¯é›†åˆ
        if(!fns || fns.length===0){
            return false;
        }
        for(var i=0,fn;fn=fns[i++];){
            fn.apply(this,arguments);
        }
    };
    /**
     * åˆ é™¤è®¢é˜…
     * @key {String} ç±»å‹
     * @fn {Function} å›æ‰å‡½æ•°
     * */
    remove=function(key,fn){
        var fns=clienlist[key];//å–å‡ºè¯¥ç±»å‹çš„å¯¹åº”çš„æ¶ˆæ¯é›†åˆ
        if(!fns){//å¦‚æœå¯¹åº”çš„keyæ²¡æœ‰è®¢é˜…ç›´æ¥è¿”å›
            return false;
        }
        if(!fn){//å¦‚æœæ²¡æœ‰ä¼ å…¥å…·ä½“çš„å›æ‰ï¼Œåˆ™è¡¨ç¤ºéœ€è¦å–æ¶ˆæ‰€æœ‰è®¢é˜…
            fns &amp;&amp; (fns.length=0);
        }else{
            for(var l=fns.length-1;l&gt;=0;l--){//éå†å›æ‰å‡½æ•°åˆ—è¡¨
                if(fn===fns[l]){
                    fns.splice(l,1);//åˆ é™¤è®¢é˜…è€…çš„å›æ‰
                }
            }
        }
    };
    return{
        addlisten:addlisten,
        trigger:trigger,
        remove:remove
    }
})();


_Event.addlisten(&quot;jianbing&quot;,function(d,all){
    console.log(&quot;å‘å¸ƒçš„æ¶ˆæ¯æ¥è‡ªï¼š&quot;+d+&quot;ï¼Œå…·ä½“ä¿¡æ¯ï¼š&quot;+all);
});
_Event.addlisten(&quot;jianbing&quot;,function(d,all){
    console.log(&quot;å‘å¸ƒçš„æ¶ˆæ¯æ¥è‡ªï¼š&quot;+d+&quot;ï¼Œå…·ä½“ä¿¡æ¯ï¼š&quot;+all);
})
_Event.trigger(&quot;yyyy&quot;,&quot;xxx&quot;,&quot;å‰ç«¯å·¥ç¨‹å¸ˆ&quot;)
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://cutezhangq.github.io/post-images/1596872061540.png" alt="" loading="lazy"></figure>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>å‘å¸ƒ-è®¢é˜…æ¨¡å¼å°±æ˜¯å¸¸è¯´çš„è§‚å¯Ÿè€…æ¨¡å¼ï¼Œåœ¨å®é™…å¼€å‘ä¸­éå¸¸æœ‰ç”¨ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ä¸ºæ—¶é—´æ˜¯è§£è€¦ï¼Œä¸ºå¯¹è±¡ä¹‹é—´è§£æ„ï¼Œå®ƒçš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œæ—¢å¯ä»¥åœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­ä¹Ÿå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆæ›´æ¾çš„è§£è€¦ã€‚å‘å¸ƒ-è®¢é˜…æ¨¡å¼è¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°è®¾è®¡æ¨¡å¼ï¼Œä»æ¶æ„ä¸Šæ¥çœ‹ï¼Œæ— è®ºMVCè¿˜æ˜¯MVVCéƒ½å°‘ä¸äº†å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„å‚ä¸ã€‚ç„¶è€Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œåˆ›å»ºè®¢é˜…æœ¬èº«ä¼šæ¶ˆè€—ä¸€å®šçš„æ—¶é—´ä¸å†…å­˜ï¼Œä¹Ÿè®¸å½“ä½ è®¢é˜…ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œä¹‹åå¯èƒ½å°±ä¸ä¼šå‘ç”Ÿã€‚å‘å¸ƒ-è®¢é˜…æ¨¡å¼è™½ç„¶å®ƒå¼±åŒ–äº†å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œä½†æ˜¯å¦‚æœè¿‡åº¦ä½¿ç”¨ï¼Œå¯¹è±¡ä¸å¯¹è±¡çš„å¿…è¦è”ç³»å°±ä¼šè¢«æ·±åŸ‹ï¼Œä¼šå¯¼è‡´ç¨‹åºéš¾ä»¥è·Ÿè¸ªä¸ç»´æŠ¤ã€‚</p>

                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/xiao-xi-ding-yue-yu-fa-bu/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/xiao-xi-ding-yue-yu-fa-bu.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/shuang-xiang-shu-ju-bang-ding-dan-xiang-shu-ju-liu/">
                  <h2 class="post-title">åŒå‘æ•°æ®ç»‘å®šã€å•å‘æ•°æ®æµ</h2>
                </a>
                <div class="post-date">
                  2020-08-07
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/shuang-xiang-shu-ju-bang-ding-dan-xiang-shu-ju-liu/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/shuang-xiang-shu-ju-bang-ding-dan-xiang-shu-ju-liu.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/computedwatchmethod-zhi-xing-de-xian-hou-shun-xu/">
                  <h2 class="post-title">computedï¼Œwatchï¼Œmethodæ‰§è¡Œçš„å…ˆåé¡ºåº</h2>
                </a>
                <div class="post-date">
                  2020-08-06
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/computedwatchmethod-zhi-xing-de-xian-hou-shun-xu/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/computedwatchmethod-zhi-xing-de-xian-hou-shun-xu.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/shu-ju-tong-xin-fang-an-zu-jian-jian-chuan-zhi/">
                  <h2 class="post-title">æ•°æ®é€šä¿¡æ–¹æ¡ˆã€ç»„ä»¶é—´ä¼ å€¼</h2>
                </a>
                <div class="post-date">
                  2020-08-06
                </div>
                <div class="post-abstract">
                  <h1 id="ç»„ä»¶é—´é€šä¿¡çš„ç‰¹ç‚¹">ç»„ä»¶é—´é€šä¿¡çš„ç‰¹ç‚¹</h1>
<pre><code>1. ä¸è¦åœ¨å­ç»„ä»¶ä¸­ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„çŠ¶æ€æ•°æ®
2. æ•°æ®åœ¨å“ª, æ›´æ–°æ•°æ®çš„è¡Œä¸º(å‡½æ•°)å°±åº”è¯¥å®šä¹‰åœ¨å“ª
</code></pre>
<h1 id="vue-ç»„ä»¶æ•°æ®é€šä¿¡æ–¹æ¡ˆæ€»ç»“">Vue ç»„ä»¶æ•°æ®é€šä¿¡æ–¹æ¡ˆæ€»ç»“</h1>
<p><img src="https://cutezhangq.github.io/post-images/1596720130251.png" alt="" loading="lazy"><br>
ç»„ä»¶ A ä¸ç»„ä»¶ B ã€C ä¹‹é—´æ˜¯çˆ¶å­ç»„ä»¶ï¼Œç»„ä»¶ B ã€C ä¹‹é—´æ˜¯å…„å¼Ÿç»„ä»¶ï¼Œè€Œç»„ä»¶ A ã€D ä¹‹é—´æ˜¯éš”ä»£çš„å…³ç³»ã€‚<br>
é‚£ä¹ˆå¯¹äºè¿™äº›ä¸åŒçš„å…³ç³»ï¼Œæœ¬æ–‡ä¸»è¦åˆ†äº«äº†ä»–ä»¬ä¹‹é—´å¯ä»¥é‡‡ç”¨çš„å‡ ç§æ•°æ®é€šä¿¡æ–¹å¼ï¼Œ<br>
ä¾‹å¦‚ Props ã€$emit / $on ã€Vuex ç­‰ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„ä½¿ç”¨åœºæ™¯å¯ä»¥é€‰æ‹©é€‚åˆçš„ä½¿ç”¨æ–¹å¼ã€‚</p>
<h1 id="ä¸€-prop-emit-çˆ¶å­-å­çˆ¶">ä¸€ã€ Prop / $emit    ï¼ˆçˆ¶â€”â€”&gt;å­        å­â€”â€”&gt;çˆ¶ï¼‰</h1>
<h2 id="prop-é€šè¿‡ç»‘å®šå±æ€§çš„æ–¹å¼">Prop  é€šè¿‡ç»‘å®šå±æ€§çš„æ–¹å¼</h2>
<pre><code class="language-html">// çˆ¶ç»„ä»¶   &lt;child :title=&quot;title1&quot;&gt;&lt;/child&gt;
// å­ç»„ä»¶   props: { title:Object }
</code></pre>
<p>å…¶ä¸­ï¼Œpropsçš„ç”¨æ³•ï¼š<br>
props æ˜¯<strong>å•å‘ç»‘å®š</strong>çš„ï¼šå½“çˆ¶ç»„ä»¶çš„å±æ€§å˜åŒ–æ—¶ï¼Œå°†ä¼ å¯¼ç»™å­ç»„ä»¶ï¼Œä½†æ˜¯ä¸ä¼šåè¿‡æ¥ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢å­ç»„ä»¶æ— æ„ä¿®æ”¹çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚<br>
æ‰€ä»¥<code>ä¸åº”è¯¥åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹ props ä¸­çš„å€¼ï¼ŒVue ä¼šæŠ¥å‡ºè­¦å‘Š</code>ã€‚</p>
<h2 id="ä¿®æ”¹-props-æ•°æ®">ä¿®æ”¹ props æ•°æ®</h2>
<p>é€šå¸¸æœ‰ä¸¤ç§åŸå› ï¼š</p>
<ul>
<li>prop ä½œä¸ºåˆå§‹å€¼ä¼ å…¥åï¼Œå­ç»„ä»¶æƒ³æŠŠå®ƒå½“åšå±€éƒ¨æ•°æ®æ¥ç”¨</li>
<li>prop ä½œä¸ºåˆå§‹å€¼ä¼ å…¥åï¼Œç”±å­ç»„ä»¶å¤„ç†æˆå…¶ä»–æ•°æ®è¾“å‡º</li>
</ul>
<h2 id="åº”å¯¹åŠæ³•æ˜¯">åº”å¯¹åŠæ³•æ˜¯</h2>
<ul>
<li>å®šä¹‰ä¸€ä¸ª<code>å±€éƒ¨å˜é‡</code>ï¼Œå¹¶ç”¨ prop çš„å€¼åˆå§‹åŒ–å®ƒ<br>
ä½†æ˜¯ç”±äºå®šä¹‰çš„ ownChildMsg åªèƒ½æ¥å— forChildMsg <code>çš„åˆå§‹å€¼</code>ï¼Œå½“çˆ¶ç»„ä»¶è¦ä¼ é€’çš„å€¼å˜åŒ–å‘ç”Ÿæ—¶ï¼ŒownChildMsg <code>æ— æ³•æ”¶åˆ°æ›´æ–°</code>ã€‚</li>
</ul>
<pre><code class="language-js">let childNode = {
  template: `
          &lt;div class=&quot;child&quot;&gt;
            &lt;div&gt;
              &lt;span&gt;å­ç»„ä»¶æ•°æ®&lt;/span&gt;
              &lt;input v-model=&quot;forChildMsg&quot;/&gt;
            &lt;/div&gt;
            &lt;p&gt;{{forChildMsg}}&lt;/p&gt;
            &lt;p&gt;ownChildMsg : {{ownChildMsg}}&lt;/p&gt;
          &lt;/div&gt;`,
  props: {
    &quot;for-child-msg&quot;: String
  },
  data() {
    return { ownChildMsg: this.forChildMsg };
  }
};
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬åŠ äº†ä¸€ä¸ª<p>ç”¨äºæŸ¥çœ‹ ownChildMsg æ•°æ®æ˜¯å¦å˜åŒ–ï¼Œç»“æœå‘ç°åªæœ‰é»˜è®¤å€¼ä¼ é€’ç»™äº† ownChildMsgï¼Œçˆ¶ç»„ä»¶æ”¹å˜åªä¼šå˜åŒ–åˆ° forChildMsgï¼Œä¸ä¼šä¿®æ”¹ ownChildMsgã€‚</p>
<ul>
<li>å®šä¹‰ä¸€ä¸ª<code>è®¡ç®—å±æ€§</code>ï¼Œå¤„ç† prop çš„å€¼å¹¶è¿”å›<br>
ç”±äºæ˜¯è®¡ç®—å±æ€§ï¼Œæ‰€ä»¥åªèƒ½æ˜¾ç¤ºå€¼ï¼Œä¸èƒ½è®¾ç½®å€¼ã€‚æˆ‘ä»¬è¿™é‡Œè®¾ç½®çš„æ˜¯ä¸€æ—¦ä»çˆ¶ç»„ä»¶ä¿®æ”¹äº† forChildMsg æ•°æ®ï¼Œæˆ‘ä»¬å°±æŠŠ forChildMsg åŠ ä¸Šä¸€ä¸ªå­—ç¬¦ä¸²&quot;---ownChildMsg&quot;ï¼Œç„¶åæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚è¿™æ—¶æ˜¯å¯ä»¥æ¯å½“çˆ¶ç»„ä»¶ä¿®æ”¹äº†æ–°æ•°æ®ï¼Œ<code>éƒ½ä¼šæ›´æ–°</code> ownChildMsg æ•°æ®çš„ã€‚</li>
</ul>
<pre><code class="language-js">let childNode = {
  template: `
          &lt;div class=&quot;child&quot;&gt;
            &lt;div&gt;
              &lt;span&gt;å­ç»„ä»¶æ•°æ®&lt;/span&gt;
              &lt;input v-model=&quot;forChildMsg&quot;/&gt;
            &lt;/div&gt;
            &lt;p&gt;{{forChildMsg}}&lt;/p&gt;
            &lt;p&gt;ownChildMsg : {{ownChildMsg}}&lt;/p&gt;
          &lt;/div&gt;`,
  props: {
    &quot;for-child-msg&quot;: String
  },
  computed: {
    ownChildMsg() {
      return this.forChildMsg + &quot;---ownChildMsg&quot;;
    }
  }
};
</code></pre>
<ul>
<li>æ›´åŠ å¦¥å¸–çš„æ–¹å¼æ˜¯<code>ä½¿ç”¨å˜é‡å­˜å‚¨</code> prop çš„åˆå§‹å€¼ï¼Œå¹¶ç”¨<code>watch</code>æ¥è§‚å¯Ÿ prop å€¼å¾—<code>å˜åŒ–</code>ã€‚å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ›´æ–°å˜é‡çš„å€¼ã€‚</li>
</ul>
<pre><code class="language-js">let childNode = {
  template: `
          &lt;div class=&quot;child&quot;&gt;
            &lt;div&gt;
              &lt;span&gt;å­ç»„ä»¶æ•°æ®&lt;/span&gt;
              &lt;input v-model=&quot;forChildMsg&quot;/&gt;
            &lt;/div&gt;
            &lt;p&gt;{{forChildMsg}}&lt;/p&gt;
            &lt;p&gt;ownChildMsg : {{ownChildMsg}}&lt;/p&gt;
          &lt;/div&gt;`,
  props: {
    &quot;for-child-msg&quot;: String
  },
  data() {
    return {
      ownChildMsg: this.forChildMsg
    };
  },
  watch: {
    forChildMsg() {
      this.ownChildMsg = this.forChildMsg;
    }
  }
};
</code></pre>

                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/shu-ju-tong-xin-fang-an-zu-jian-jian-chuan-zhi/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/shu-ju-tong-xin-fang-an-zu-jian-jian-chuan-zhi.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/new-yun-suan-fu-de-zhi-xing-guo-cheng/">
                  <h2 class="post-title"> newè¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹</h2>
                </a>
                <div class="post-date">
                  2020-08-06
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/new-yun-suan-fu-de-zhi-xing-guo-cheng/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/new-yun-suan-fu-de-zhi-xing-guo-cheng.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/jsonstringify-yu-huan-wen-ti/">
                  <h2 class="post-title">JSON.stringifyä¸&#34;ç¯&#34;é—®é¢˜</h2>
                </a>
                <div class="post-date">
                  2020-08-06
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/jsonstringify-yu-huan-wen-ti/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/jsonstringify-yu-huan-wen-ti.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/vuex-zhong-mutations-he-actions-de-qu-bie/">
                  <h2 class="post-title">Vuexä¸­mutationså’Œactionsçš„åŒºåˆ«</h2>
                </a>
                <div class="post-date">
                  2020-08-06
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/vuex-zhong-mutations-he-actions-de-qu-bie/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/vuex-zhong-mutations-he-actions-de-qu-bie.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://cutezhangq.github.io/post/mpvue-xing-neng-you-hua-ji-qiao/">
                  <h2 class="post-title">mpvueæ€§èƒ½ä¼˜åŒ–æŠ€å·§</h2>
                </a>
                <div class="post-date">
                  2020-08-05
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://cutezhangq.github.io/post/mpvue-xing-neng-you-hua-ji-qiao/">
                  <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/mpvue-xing-neng-you-hua-ji-qiao.jpg')">
                  </div>
                </a>
              
            </article>
          

          <div class="pagination-container">
  
  
    <a href="https://cutezhangq.github.io/page/2" class="next">ä¸‹ä¸€é¡µ <i class="icon-arrow-ios-forward-outline"></i></a>
  
</div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
