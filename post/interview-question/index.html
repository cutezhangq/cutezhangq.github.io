<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>é¢è¯•é¢˜ | cutezhangq</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://cutezhangq.github.io/favicon.ico?v=1594950012480">
<link rel="stylesheet" href="https://cutezhangq.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="ç¬¬ 1 é¢˜ï¼šï¼ˆæ»´æ»´ã€é¥¿äº†ä¹ˆï¼‰å†™ React / Vue é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™ keyï¼Œå…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
ğŸ˜…emm..å¯¹è¿™ä¸ªé—®é¢˜æœ‰è¿‡ç–‘é—®ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ¢å¯»åŸå› ï¼Œç°åœ¨æ¢³ç†ä¸€ä¸‹
ç­”æ¡ˆ
é¦–å…ˆåœ¨vueå¾ªç¯éå†ç”ŸæˆèŠ‚ç‚¹ä¸­ä¼šä½¿ç”¨åˆ°keyï¼Œé‚£ä¹ˆåˆ°åº•..." />
    <meta name="keywords" content="é¢è¯•" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://cutezhangq.github.io">
        <img src="https://cutezhangq.github.io/images/avatar.png?v=1594950012480" class="site-logo">
        <h1 class="site-title">cutezhangq</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      æ¸©æ•…çŸ¥æ–°
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://cutezhangq.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">é¢è¯•é¢˜</h2>
            <div class="post-date">2020-04-01</div>
            
              <div class="feature-container" style="background-image: url('https://cutezhangq.github.io/post-images/interview-question.jpg')">
              </div>
            
            <div class="post-content" v-pre>
              <h1 id="ç¬¬-1-é¢˜æ»´æ»´-é¥¿äº†ä¹ˆå†™-react-vue-é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™-keyå…¶ä½œç”¨æ˜¯ä»€ä¹ˆ">ç¬¬ 1 é¢˜ï¼šï¼ˆæ»´æ»´ã€é¥¿äº†ä¹ˆï¼‰å†™ React / Vue é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™ keyï¼Œå…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h1>
<p>ğŸ˜…emm..å¯¹è¿™ä¸ªé—®é¢˜æœ‰è¿‡ç–‘é—®ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ¢å¯»åŸå› ï¼Œç°åœ¨æ¢³ç†ä¸€ä¸‹</p>
<h2 id="ç­”æ¡ˆ"><strong>ç­”æ¡ˆ</strong></h2>
<p>é¦–å…ˆåœ¨vueå¾ªç¯éå†ç”ŸæˆèŠ‚ç‚¹ä¸­ä¼šä½¿ç”¨åˆ°keyï¼Œé‚£ä¹ˆåˆ°åº•è¦ä¸è¦ä½¿ç”¨keyï¼Œå‚è€ƒå®˜ç½‘ä¸Šçš„æè¿°ï¼š<br>
ğŸ“ƒVUEæ–‡æ¡£:</p>
<ul>
<li>å»ºè®®å°½å¯èƒ½åœ¨ä½¿ç”¨ v-for æ—¶æä¾› key attributeï¼Œé™¤ééå†è¾“å‡ºçš„ DOM å†…å®¹éå¸¸ç®€å•ï¼Œæˆ–è€…æ˜¯åˆ»æ„ä¾èµ–é»˜è®¤è¡Œä¸ºä»¥è·å–æ€§èƒ½ä¸Šçš„æå‡ã€‚</li>
</ul>
<p>å¾—å‡ºç»“è®ºï¼Œå¤šæ•°æƒ…å†µæœ€å¥½ä½¿ç”¨key!</p>
<pre><code class="language-html">&lt;div id=&quot;app&quot;&gt;
    &lt;div v-for=&quot;i in dataList&quot; :key=&quot;i&quot;&gt;{{ i }}&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>keyæ˜¯ç”¨æ¥<code>ç»‘å®š</code>è™šæ‹ŸèŠ‚ç‚¹çš„ï¼Œç»™æ¯ä¸€ä¸ªvnode<code>å”¯ä¸€</code>idã€‚<br>
å½“ä¸ä½¿ç”¨keyçš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥é€šè¿‡v-forå®ç°ä»¥ä¸‹çš„domèŠ‚ç‚¹æ•°ç»„<br>
ğŸŒ° æ¡ˆä¾‹ï¼š</p>
<pre><code class="language-js">var vm = new Vue({
  el: '#app',
  data: {
    dataList: [1, 2, 3, 4, 5]
  }
})
</code></pre>
<p>ä¸ºäº†æ–¹ä¾¿ï¼Œæ ‡è®°ä¸ŠidåŠ ä»¥è¯´æ˜èŠ‚ç‚¹ã€‚å½“æ•°ç»„ä¸º[1, 2, 3, 4, 5]æ—¶ï¼ŒåŠ keyä¸ä¸åŠ keyéƒ½å¦‚ä¸‹ï¼š</p>
<pre><code class="language-html"> [
    '&lt;div&gt;1&lt;/div&gt;',     // id:  A
    '&lt;div&gt;2&lt;/div&gt;',     // id:  B
    '&lt;div&gt;3&lt;/div&gt;',     // id:  C
    '&lt;div&gt;4&lt;/div&gt;',     // id:  D
    '&lt;div&gt;5&lt;/div&gt;'      // id:  E
  ]
</code></pre>
<p>ä½†æ˜¯ï¼Œå½“æ•°ç»„æœ‰å˜åŒ–æ—¶ï¼Œä¸¤è€…å°±æœ‰åŒºåˆ«äº†ã€‚<br>
æ”¹å˜dataListæ•°æ®ï¼Œè¿›è¡Œæ•°æ®ä½ç½®æ›¿æ¢ï¼Œå¯¹æ¯”æ”¹å˜åçš„æ•°æ®å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js"> vm.dataList = [4, 1, 3, 5, 2] // æ•°æ®ä½ç½®æ›¿æ¢
 // æ²¡æœ‰keyçš„æƒ…å†µï¼Œ èŠ‚ç‚¹ä½ç½®ä¸å˜ï¼Œä½†æ˜¯èŠ‚ç‚¹innerTextå†…å®¹æ›´æ–°äº†
  [
    '&lt;div&gt;4&lt;/div&gt;', // idï¼š A
    '&lt;div&gt;1&lt;/div&gt;', // id:  B
    '&lt;div&gt;3&lt;/div&gt;', // id:  C
    '&lt;div&gt;5&lt;/div&gt;', // id:  D
    '&lt;div&gt;2&lt;/div&gt;'  // id:  E
  ]

  // æœ‰keyçš„æƒ…å†µï¼ŒdomèŠ‚ç‚¹ä½ç½®è¿›è¡Œäº†äº¤æ¢ï¼Œä½†æ˜¯å†…å®¹æ²¡æœ‰æ›´æ–°
  // &lt;div v-for=&quot;i in dataList&quot; :key='i'&gt;{{ i }}&lt;/div&gt;
  [
    '&lt;div&gt;4&lt;/div&gt;', // idï¼š D
    '&lt;div&gt;1&lt;/div&gt;', // id:  A
    '&lt;div&gt;3&lt;/div&gt;', // id:  C
    '&lt;div&gt;5&lt;/div&gt;', // id:  E
    '&lt;div&gt;2&lt;/div&gt;'  // id:  B
  ]
</code></pre>
<p>åŸå› ï¼š<code>æ²¡æœ‰ç»‘å®škeyçš„æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹ä¼šè¿›è¡Œå¤ç”¨</code>ï¼Œå³å‘ˆç°å‡ºidæ²¡å˜ï¼Œå†…å®¹å˜åŒ–äº†ï¼ˆ<code>å°±åœ°æ›´æ–°</code>ï¼‰ï¼Œè¿™æ ·<code>æœ‰åˆ©äºdiffé€Ÿåº¦</code>ï¼Œä½†æ˜¯è¿™ç§æ¨¡å¼ä¼šå¸¦æ¥ä¸€äº›éšè—çš„å‰¯ä½œç”¨ã€‚å¯èƒ½ä¸ä¼šäº§ç”Ÿè¿‡æ¸¡çš„æ•ˆæœï¼ŒæŸäº›èŠ‚ç‚¹ç»‘å®šæ•°æ®ï¼ˆè¡¨å•ï¼‰çŠ¶æ€æ—¶ï¼Œä¼šå‡ºç°çŠ¶æ€é”™ä½ã€‚æ²¡åŠæ³•è¿½è¸ªåˆ°æ¯ä¸ªèŠ‚ç‚¹ã€‚<br>
ä½¿ç”¨keyå¯ä»¥ï¼š</p>
<ul>
<li>å®Œæ•´åœ°è§¦å‘ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­</li>
<li>è§¦å‘è¿‡æ¸¡</li>
</ul>
<pre><code class="language-html">&lt;transition&gt;
  &lt;span :key=&quot;text&quot;&gt;{{ text }}&lt;/span&gt;
&lt;/transition&gt;
</code></pre>
<p>å½“ text å‘ç”Ÿæ”¹å˜æ—¶ï¼Œspanæ€»æ˜¯ä¼šè¢«æ›¿æ¢è€Œä¸æ˜¯è¢«ä¿®æ”¹ï¼Œå› æ­¤ä¼šè§¦å‘è¿‡æ¸¡ã€‚</p>
<p>ğŸ“ƒVUEæ–‡æ¡£ä¹Ÿè¯´æ˜äº†</p>
<ul>
<li>ä¸åŠ keyæ—¶ï¼Œ<a href="https://cn.vuejs.org/v2/guide/list.html#%E7%BB%B4%E6%8A%A4%E7%8A%B6%E6%80%81">è¿™ä¸ªé»˜è®¤çš„æ¨¡å¼æ˜¯é«˜æ•ˆçš„ï¼Œä½†æ˜¯åªé€‚ç”¨äºä¸ä¾èµ–å­ç»„ä»¶çŠ¶æ€æˆ–ä¸´æ—¶ DOM çŠ¶æ€ (ä¾‹å¦‚ï¼šè¡¨å•è¾“å…¥å€¼) çš„åˆ—è¡¨æ¸²æŸ“è¾“å‡º</a></li>
</ul>
<p>å¢åˆ dataListåˆ—è¡¨é¡¹ï¼Œå¯¹æ¯”æ”¹å˜åçš„æ•°æ®å¦‚ä¸‹ï¼š</p>
<pre><code class="language-html">vm.dataList = [3, 4, 5, 6, 7] // æ•°æ®è¿›è¡Œå¢åˆ 
  // 1. æ²¡æœ‰keyçš„æƒ…å†µï¼Œ èŠ‚ç‚¹ä½ç½®ä¸å˜ï¼Œå†…å®¹ä¹Ÿæ›´æ–°äº†
  [
    '&lt;div&gt;3&lt;/div&gt;', // idï¼š A
    '&lt;div&gt;4&lt;/div&gt;', // id:  B
    '&lt;div&gt;5&lt;/div&gt;', // id:  C
    '&lt;div&gt;6&lt;/div&gt;', // id:  D
    '&lt;div&gt;7&lt;/div&gt;'  // id:  E
  ]

  // 2. æœ‰keyçš„æƒ…å†µï¼Œ èŠ‚ç‚¹åˆ é™¤äº† A, B èŠ‚ç‚¹ï¼Œæ–°å¢äº† F, G èŠ‚ç‚¹
  // &lt;div v-for=&quot;i in dataList&quot; :key='i'&gt;{{ i }}&lt;/div&gt;
  [
    '&lt;div&gt;3&lt;/div&gt;', // idï¼š C
    '&lt;div&gt;4&lt;/div&gt;', // id:  D
    '&lt;div&gt;5&lt;/div&gt;', // id:  E
    '&lt;div&gt;6&lt;/div&gt;', // id:  F
    '&lt;div&gt;7&lt;/div&gt;'  // id:  G
  ]
</code></pre>
<p>keyæ˜¯ç»™æ¯ä¸€ä¸ªvnodeçš„å”¯ä¸€id,å¯ä»¥ä¾é key,<code>æ›´å‡†ç¡®</code>, <code>æ›´å¿«</code>çš„æ‹¿åˆ°oldVnodeä¸­å¯¹åº”çš„vnodeèŠ‚ç‚¹ã€‚<br>
æ›´å¿« ä½“ç°åœ¨ï¼šåˆ©ç”¨keyçš„å”¯ä¸€æ€§ç”Ÿæˆmapå¯¹è±¡æ¥è·å–å¯¹åº”èŠ‚ç‚¹ï¼Œæ¯”éå†æ–¹å¼æ›´å¿«ã€‚(è¿™ä¸ªè§‚ç‚¹ï¼Œå°±æ˜¯æˆ‘æœ€åˆçš„é‚£ä¸ªè§‚ç‚¹ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œmapä¼šæ¯”éå†æ›´å¿«ã€‚</p>
<h2 id="æ‰©å±•"><strong>æ‰©å±•</strong>ï¼š</h2>
<h3 id="diffç®—æ³•">diffç®—æ³•</h3>
<h3 id="vueæºç ">vueæºç </h3>
<h1 id="ç¬¬-2-é¢˜1-2-3mapparseint-what-why">ç¬¬ 2 é¢˜ï¼š['1', '2', '3'].map(parseInt) what &amp; why ?</h1>
<p>emm..mapæ˜¯es6ä¸­æ¶‰åŠåˆ°çš„æ–¹æ³•ï¼Œæ˜¯æŒ‡ä¸é‡å¤çš„Key-valueå½¢å¼çš„æ•°æ®ï¼ŒparseIntæ˜¯....è¿”å›æ•´æ•°çš„ï¼Œç„¶å¹¶åµ...orzğŸ¤’</p>
<h2 id="ç­”æ¡ˆ-2"><strong>ç­”æ¡ˆ</strong></h2>
<p>çœŸæ­£çš„ç­”æ¡ˆæ˜¯[1, NaN, NaN]<br>
è¿™é¢˜çš„ä¸»è¦è€ƒå¯Ÿï¼Œè¿˜æ˜¯arr.mapï¼ˆï¼‰æ–¹æ³•ï¼Œå’ŒparseIntï¼Œå¯¹å®ƒä»¬ä¸€å®šè¦æ·±å…¥ç†è§£ã€‚ä¸‹é¢é™„ä¸ŠMDNå®˜æ–¹è§£é‡Šï¼š<br>
ğŸ“ƒMDNï¼š</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Array.prototype.map()</a></li>
</ul>
<pre><code class="language-js">    var new_array = arr.map(function callback(currentValue[, index[, array]]) {     }[, thisArg])
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://cutezhangq.github.io/post-images/1585987454821.png" alt="" width="400" height="300" loading="lazy"></figure>
<h3 id="mapæ–¹æ³•å®šä¹‰">mapæ–¹æ³•å®šä¹‰</h3>
<p>å°†æ•°ç»„ä¸­çš„å€¼æŒ‰é¡ºåºè°ƒç”¨callbackå‡½æ•°ï¼Œç„¶åç”±callbackè¿”å›çš„æ•°æŒ‰é¡ºåºç»„æˆæ–°æ•°ç»„ï¼›æ²¡æœ‰èµ‹å€¼æˆ–åˆ é™¤æ‰çš„ç´¢å¼•ä¸ä¼šè°ƒç”¨ã€‚</p>
<h3 id="mapæ–¹æ³•ä½¿ç”¨">mapæ–¹æ³•ä½¿ç”¨</h3>
<p>mapæ–¹æ³•é’ˆå¯¹<code>æ–°æ•°ç»„</code>çš„ï¼Œ<code>ä¸ä¼šä¿®æ”¹åŸæ•°ç»„</code>ï¼Œè‹¥æ˜¯å¯¹åŸæ•°ç»„è¿›è¡Œæ“ä½œåˆ™ä½¿ç”¨for-ofæˆ–forEachã€‚<br>
callback å‡½æ•°ä¼šè¢«è‡ªåŠ¨ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼š<code>æ•°ç»„å…ƒç´ </code>ï¼Œ<code>å…ƒç´ ç´¢å¼•</code>ï¼Œ<code>åŸæ•°ç»„æœ¬èº«</code>ã€‚</p>
<p>ğŸ™„å…¶å®è¿™é‡Œä¸»è¦éš¾åº¦æ˜¯parseIntï¼Œä¸‹é¢ä¸€èµ·æ¥ç ”ç©¶ä¸‹å­~<br>
ğŸ“ƒMDNï¼š</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/parseInt">parseInt</a></li>
</ul>
<pre><code class="language-js">parseInt(string, radix);
</code></pre>
<p>å°†ä¸€ä¸ªå­—ç¬¦ä¸² string è½¬æ¢ä¸º radix è¿›åˆ¶çš„æ•´æ•°ï¼Œ radix ä¸ºä»‹äº2-36ä¹‹é—´çš„æ•°ã€‚</p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://cutezhangq.github.io/tag/gEYVGztSN/" class="tag">
                    é¢è¯•
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://cutezhangq.github.io/post/git/">
                  <h3 class="post-title">
                    Git
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
